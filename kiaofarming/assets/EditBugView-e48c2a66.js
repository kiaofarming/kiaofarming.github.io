import{d as _e,b as m,r as Ge,o as c,h as u,F as L,m as E,c as He,a as o,t as N,f as Qe,s as qe,e as Ke,u as Ze,l as Je,g as We,i as V,k as ve,w as Xe,A as S,v as Y,aa as J,I as et,j as U}from"./index-6ae4db78.js";import{b as tt,u as st,c as ot,F as lt,_ as be,s as pe,a as ee}from"./firebase-5d8a79f1.js";import{C as W,S as X,f as nt,E as it,g as he,e as at,I as rt}from"./editorStore-295f3670.js";import{C as ct}from"./zh-8009181e.js";import{v as ut}from"./viewerStore-b2cb96e5.js";import{B as dt,E as mt}from"./bug.model-5cc6244e.js";const gt={class:"mt-3"},ft={class:"mt-3 flex"},vt=o("label",{class:"mt-1 w-24 text-sm font-medium align-bottom text-gray-900"},"免登資材",-1),pt={class:"grid grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 sm:grid-cols-4 gap-2"},ht={class:"flex h-6 items-center"},_t=["checked","onClick"],bt={class:"ml-1 text-xs leading-6 text-gray-900"},xt={class:"mt-2 flex text-sm ml-5 justify-center w-full text-gray-600"},yt={class:""},kt=o("img",{src:tt,width:"32",alt:""},null,-1),wt=[kt],Ct={class:"mx-2 mt-2 flex text-sm ml-5 justify-end w-full text-gray-600"},It={class:"px-5 py-2 rounded-full filter-btn-style"},St={class:"mx-2 px-3 py-2 rounded-full see-all-button"},Lt=_e({__name:"BugTextEditor",props:{preventions:{type:Array,default:[]},checkMaterial:{type:Array,default:[]},controlMaterial:{type:Array,default:[]},controlMaterialType:{type:Array,default:[]}},emits:["save","goback"],setup(B,{emit:R}){const f=B,M=m([]),_=m(ct);m("");const $=m({language:"zh",toolbar:["undo","redo","|","heading","bold","|"]});function A(l){console.log("mixAllEditorStr");let r="";if(l.title==null)return r;console.log(l),r="<h2><strong>"+l.title+"</strong></h2>";for(let d=0;d<l.subInfo.length;d++){const g=l.subInfo[d];r=r+"<h3><strong>"+g.title+"</strong></h3>";for(let b=0;b<g.contents.length;b++){const I=g.contents[b];r=r+"<p>"+I+"</p>"}}return r}function D(){let l=new W;l.title="標題",l.subInfo=[];let r=new X;r.title="副標題",r.contents=["副標題內容"],l.subInfo.push(r),f.preventions.push(A(l))}function G(l,r){if(f.checkMaterial[l]==null)return!1;if(f.checkMaterial[l].subInfo[0].materials!=null){for(let d=0;d<f.checkMaterial[l].subInfo[0].materials.length;d++)if(f.checkMaterial[l].subInfo[0].materials[d].id==r.id.toString())return!0;return!1}return!1}function T(l,r){if(f.checkMaterial[l]==null){let g=new W,b=new X;g.subInfo=[],b.materials=[],g.subInfo.push(b),f.checkMaterial[l]=g}f.checkMaterial[l].subInfo[0].materials==null&&(f.checkMaterial[l].subInfo[0].materials=[]);let d=f.checkMaterial[l].subInfo[0].materials;if(d.some(g=>g.id===r.id.toString()))d=d.filter(g=>g.id!==r.id.toString());else{let g=new nt;g.id=r.id.toString(),g.name=r.name,d.push(g)}f.checkMaterial[l].subInfo[0].materials=d,console.log(f.checkMaterial[l].subInfo[0].materials)}function F(){R("goback")}function z(l,r){console.log(r),f.preventions[l]=r}function k(){M.value=[];for(let l=0;l<f.preventions.length;l++){const r=f.preventions[l],d=[];new DOMParser().parseFromString(r,"text/html").body.childNodes.forEach(v=>{v.nodeName==="H2"?d.push({type:"h2",content:v.textContent??""}):v.nodeName==="H3"||v.nodeName==="H4"?d.push({type:"h3",content:v.textContent??""}):v.nodeName==="P"&&d.push({type:"p",content:v.textContent??""})}),console.log(d);let y=new it;y.subInfo=[];let p=new he;p.contents=[];for(let v=0;v<d.length;v++){const h=d[v];h.type=="h2"?y.title=h.content:h.type=="h3"?(p=new he,p.contents=[],p.title=h.content,f.checkMaterial[l]!=null&&f.checkMaterial[l].subInfo!=null&&f.checkMaterial[l].subInfo[0].materials!=null&&(p.materials=[],f.checkMaterial[l].subInfo[0].materials.forEach(P=>{p.materials.push(Number(P.id))})),console.log(p)):h.type=="p"&&(v==d.length-1||d[v+1]!=null&&d[v+1].type=="h3"?(p.contents.push(h.content),y.subInfo.push(p)):p.contents.push(h.content))}M.value.push(y)}console.log(M.value),R("save",M.value)}function C(){console.log(f.checkMaterial),k()}return(l,r)=>{const d=Ge("ckeditor");return c(),u("div",null,[(c(!0),u(L,null,E(B.preventions,(g,b)=>(c(),u("div",gt,[(c(),He(d,{id:"editor-"+b,editor:_.value,modelValue:g,key:b,config:$.value,onInput:I=>z(b,I)},null,8,["id","editor","modelValue","config","onInput"])),o("div",ft,[vt,o("div",pt,[(c(!0),u(L,null,E(B.controlMaterial,I=>(c(),u("div",ht,[o("input",{id:"black","aria-describedby":"comments-description",name:"black",checked:G(b,I),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600 custom-checkbox",onClick:y=>T(b,I)},null,8,_t),o("label",bt,N(I.name),1)]))),256))])])]))),256)),o("div",xt,[o("button",yt,[o("a",{class:"float-right cursor-pointer",onClick:r[0]||(r[0]=g=>D())},wt)])]),o("div",Ct,[o("button",It,[o("a",{class:"cursor-pointer font-semibold",onClick:r[1]||(r[1]=g=>F())},"取消")]),o("button",St,[o("a",{class:"cursor-pointer",onClick:r[2]||(r[2]=g=>C())},"儲存變更")])])])}}});const Et={key:0,class:"main-filter-bg"},Mt={class:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-4xl lg:px-8"},Tt=o("div",{class:"flex items-center"},[o("label",{class:"text-2xl font-semibold text-gray-900"},"病蟲害基本資料")],-1),$t={class:"flex mt-3 items-center"},At=o("label",{for:"type",class:"w-24 text-sm font-medium align-bottom text-gray-900"},"病蟲害類型",-1),Pt={id:"type"},Nt={class:"flex mt-5 items-center"},Dt=o("label",{for:"chinese",class:"w-24 text-sm font-medium align-bottom text-gray-900"},"病蟲害名稱",-1),Ft={class:"mt-3 flex"},zt=o("label",{for:"part",class:"mt-2 w-24 text-sm font-medium align-bottom text-gray-900"},"危害部位",-1),Ot={class:"grid grid-cols-4 lg:grid-cols-7 xl:grid-cols-7 sm:grid-cols-4 gap-3"},jt={class:"flex h-6 items-center"},Bt=["id","name","checked","onClick"],Rt=["for"],Vt={class:"mt-3 flex"},Yt=o("label",{for:"symptom",class:"mt-1 w-24 text-sm font-medium align-bottom text-gray-900"},"病徵",-1),Ut={class:"grid grid-cols-4 lg:grid-cols-7 xl:grid-cols-7 sm:grid-cols-4 gap-2"},Gt={class:"flex h-6 items-center"},Ht=["id","name","checked","onClick"],Qt=["for"],qt={key:0,class:"mt-3 flex"},Kt=o("label",{for:"color",class:"mt-1 w-24 text-sm font-medium align-bottom text-gray-900"},"蟲體顏色",-1),Zt={class:"grid grid-cols-4 lg:grid-cols-7 xl:grid-cols-7 sm:grid-cols-4 gap-2"},Jt={class:"flex h-6 items-center"},Wt=["id","name","checked","onClick"],Xt=["for"],es={key:1,class:"flex mt-3 items-center"},ts=o("label",{for:"pestsize",class:"w-24 text-sm font-medium align-bottom text-gray-900"},"蟲體大小",-1),ss={id:"containerDeep"},os={class:"flex mt-3 items-center"},ls=o("label",{for:"environment",class:"w-24 text-sm font-medium align-bottom text-gray-900"},"好發環境",-1),ns={id:"containerDeep"},is={class:"mt-3 flex items-baseline"},as=o("label",{for:"cover-photo",class:"mt-1 w-24 text-sm font-medium align-bottom text-gray-900"},"上傳圖片",-1),rs={class:"grid grid-cols-1 w-full"},cs={class:"flex w-full rounded-full px-4 py-2 mt-1"},us={class:"flex items-center w-1/2 text-sm mx-2"},ds=["src"],ms=["src"],gs={class:"flex text-sm ml-5 justify-end w-full text-gray-600"},fs={class:""},vs=["onClick"],ps=o("img",{src:ee,width:"18",alt:""},null,-1),hs=[ps],_s={class:"flex w-full rounded-lg py-1 mt-1 border-gray-900/25"},bs={class:"text-center"},xs={class:"flex text-sm leading-6 upload-text-color"},ys={for:"file-upload",class:"flex items-center relative cursor-pointer rounded-md text-indigo-600 focus-within:outline-none hover:text-indigo-500"},ks=o("img",{src:be,width:"15",class:"w-4 h-4",alt:""},null,-1),ws=o("p",null,"上傳檔案",-1),Cs={class:"mt-2 flex items-baseline"},Is=o("label",{for:"cover-calendar-photo",class:"w-24 text-sm font-medium align-bottom text-gray-900"},"上傳表列圖片",-1),Ss={class:"grid grid-cols-1 w-full"},Ls={key:0,class:"flex w-full rounded-full px-4 py-2 mt-1"},Es={class:"text-sm overflow-hidden text-gray-600 w-1/2"},Ms=["src"],Ts=["src"],$s={class:"flex text-sm justify-end w-20 text-gray-600"},As={class:"mr-3"},Ps=o("img",{src:ee,width:"18",alt:""},null,-1),Ns=[Ps],Ds=o("img",{src:ee,width:"18",alt:""},null,-1),Fs=[Ds],zs={key:1,class:"flex w-full rounded-lg py-1 mt-1 border-gray-900/25"},Os={class:"text-center"},js={class:"ml-3 flex text-sm leading-6 upload-text-color"},Bs={for:"list-upload",class:"flex items-center relative cursor-pointer rounded-md text-indigo-600 focus-within:outline-none hover:text-indigo-500"},Rs=o("img",{src:be,width:"15",class:"w-4 h-4",alt:""},null,-1),Vs=o("p",null,"上傳圖檔",-1),Ys={class:"mt-7 grid grid-cols-1 w-full"},Us=o("label",{class:"text-2xl font-semibold text-gray-900"},"防治資訊",-1),Gs={key:1,class:"main-filter-bg"},Hs=o("label",{class:"text-2xl font-semibold text-gray-900"},"權限不足",-1),Qs=[Hs],eo=_e({__name:"EditBugView",setup(B){var re,ce,ue,de,me,ge,fe;const R=Qe(),{selectedAccount:f}=qe(R),M=m(""),_=m(""),$=m(""),A=m("N"),D=Ke(),G=Ze();let T=m([]);const F=m(),z=m([]),k=m();m();const C=Je(),l=m(),{uploadFile:r,hasFailed:d,state:g,downloadUrl:b,progressInPercentage:I}=st(),y=m(),p=m(),v=m(),h=m(),P=m(),te=m(),xe=m(),H=m([]),se=ut(),oe=at(),ye=ot({}),ke=m([{id:1,name:"蟲害",value:"pests"},{id:2,name:"病害",value:"diseases"}]),i=m({chinese:((re=l.value)==null?void 0:re.name.chinese)??"",list:((ce=l.value)==null?void 0:ce.images.list)??[],profile:((ue=l.value)==null?void 0:ue.images.profile)??[],size:((de=l.value)==null?void 0:de.size.name)??"",colors:q()??[],environment:((me=l.value)==null?void 0:me.environment.name)??"",organs:Q()??[],preventions:((ge=l.value)==null?void 0:ge.preventions)??[],symptoms:((fe=l.value)==null?void 0:fe.symptoms)??[]}),we=t=>{console.log("getContent"),console.log(i.value),Ue(t)};function Ce(t){const e=t.target;let n=[];n=T.value,console.log(n),e&&e.files&&(F.value=e.files[0],n.push(F.value),console.log(F.value)),T.value=n}function Ie(t){const e=t.target;let n=[];e&&e.files&&(k.value=e.files[0],n.push(k.value)),z.value=n}function Se(){_.value=_.value!="pests"?"pests":"diseases",$.value=_.value=="pests"?"蟲害":"病害"}function Le(){C.getClassList(S.CLASS_TYPE_PLANTORGAN).subscribe(t=>{console.log(t),y.value=t,Ee()})}function Ee(){C.getClassList(S.CLASS_TYPE_SYMPTOM).subscribe(t=>{console.log(t),p.value=t,Me()})}function Me(){C.getClassList(S.CLASS_TYPE_COLOR).subscribe(t=>{console.log(t),v.value=t,Te()})}function Te(){C.getClassList(S.CLASS_TYPE_PESTSIZE).subscribe(t=>{console.log(t),h.value=t,$e()})}function $e(){C.getClassList(S.CLASS_TYPE_ENVIRONMENT).subscribe(t=>{console.log(t),P.value=t,Ae()})}function Ae(){C.getDataList(S.GET_LIST_TYPE_MATERIALS,0).subscribe(t=>{console.log(t),te.value=t,Pe()})}function Pe(){C.getClassList(S.CLASS_TYPE_CONTROL_MATERIAL_TYPE).subscribe(t=>{console.log(t),xe.value=t,A.value=="Y"?Ne():Z()})}function Ne(){_.value=="pests"?De(M.value):Fe(M.value)}function De(t){se.getDamageInfo(S.GET_DAMAGE_PESTS_INFO,t).subscribe(e=>{var n,s,a,x,w,O,j;console.log(e),l.value=e,i.value={chinese:((n=l.value)==null?void 0:n.name.chinese)??"",list:((s=l.value)==null?void 0:s.images.list)??[],profile:((a=l.value)==null?void 0:a.images.profile)??[],size:((x=l.value)==null?void 0:x.size.name)??"",colors:q()??[],environment:((w=l.value)==null?void 0:w.environment.name)??"",organs:Q()??[],preventions:((O=l.value)==null?void 0:O.preventions)??[],symptoms:((j=l.value)==null?void 0:j.symptoms)??[]},Z(),console.log(i.value)})}function Fe(t){se.getDamageInfo(S.GET_DAMAGE_DISEASES_INFO,t).subscribe(e=>{var n,s,a,x,w,O,j;console.log(e),l.value=new dt(e),i.value={chinese:((n=l.value)==null?void 0:n.name.chinese)??"",list:((s=l.value)==null?void 0:s.images.list)??[],profile:((a=l.value)==null?void 0:a.images.profile)??[],size:((x=l.value)==null?void 0:x.size.name)??"",colors:q()??[],environment:((w=l.value)==null?void 0:w.environment.name)??"",organs:Q()??[],preventions:((O=l.value)==null?void 0:O.preventions)??[],symptoms:((j=l.value)==null?void 0:j.symptoms)??[]},Z(),console.log(i.value)})}function Q(){let t=[];if(l.value)for(let e=0;e<l.value.organs.length;e++){const n=l.value.organs[e];t.push(n.name)}return t}function q(){let t=[];if(l.value)for(let e=0;e<l.value.colors.length;e++){const n=l.value.colors[e];t.push(n.name)}return t}function ze(t){let e=i.value.colors;e.includes(t.name)?e=e.filter(n=>n!==t.name):e.push(t.name),i.value.colors=e}function Oe(t){let e=i.value.organs;e.includes(t.name)?e=e.filter(n=>n!==t.name):e.push(t.name),i.value.organs=e}function je(t){let e=i.value.symptoms;e.includes(t.name)?e=e.filter(n=>n!==t.name):e.push(t.name),i.value.symptoms=e}function K(t){if(t=="colors"){if(v.value){let e=[];for(let n=0;n<v.value.length;n++){const s=v.value[n];for(let a=0;a<i.value.colors.length;a++)i.value.colors[a]==s.name&&e.push(Number(s.id))}return e}}else if(t=="organs"){if(y.value){let e=[];for(let n=0;n<y.value.length;n++){const s=y.value[n];for(let a=0;a<i.value.organs.length;a++)i.value.organs[a]==s.name&&e.push(Number(s.id))}return e}}else if(t=="symptoms"&&p.value){let e=[];for(let n=0;n<p.value.length;n++){const s=p.value[n];for(let a=0;a<i.value.symptoms.length;a++)i.value.symptoms[a]==s.name&&e.push(s.id)}return e}return[]}function Be(){if(P.value)for(let t=0;t<P.value.length;t++){const e=P.value[t];if(e.name==i.value.environment)return e.id}return 0}function Re(){if(h.value)for(let t=0;t<h.value.length;t++){const e=h.value[t];if(e.name==i.value.size)return e.id}return 0}function Z(){if(i.value.preventions.length==0){let e=new W;e.title="標題";let n=new X;n.title="副標題",n.contents=["內文"],e.subInfo=[n];const s=le(e);H.value.push(s);return}let t=[];for(let e=0;e<i.value.preventions.length;e++){const n=i.value.preventions[e],s=le(n);console.log(s),t.push(s)}H.value=t}function le(t){let e="";if(t.title==null)return e;console.log(t),e="<h2><strong>"+t.title+"</strong></h2>";for(let n=0;n<t.subInfo.length;n++){const s=t.subInfo[n];e=e+"<h3><strong>"+s.title+"</strong></h3>";for(let a=0;a<s.contents.length;a++){const x=s.contents[a];e=e+"<p>"+x+"</p>"}}return e}function ne(){G.go(-1)}function Ve(t){var s;let e=new mt;e.name=i.value.chinese,e.environment=Be(),e.size=Re(),e.colors=K("colors"),e.organs=K("organs"),e.symptoms=K("symptoms");let n=new rt({list:[],profile:[],calendar:""});n.list=i.value.list??[],n.profile=i.value.profile??[],e.images=n,e.preventions=t,A.value!="Y"&&(_.value=$.value=="蟲害"?"pests":"diseases"),console.log(e),console.log(_.value),console.log(A.value),A.value=="Y"?(e.id=Number((s=l.value)==null?void 0:s.id),oe.modifyDamageProfile(_.value,e).subscribe(a=>{console.log(a),ne()})):oe.addDamageProfile(_.value,e).subscribe(a=>{console.log(a),ne()})}function Ye(t){if(typeof t=="string"){let e=i.value;e.profile=e.profile.filter(n=>n!==t),i.value=e}else T.value=T.value.filter(e=>e!==t)}function ie(t){typeof t=="string"?(console.log("string"),i.value.list=[]):(console.log("file"),k.value=null,z.value=[])}function ae(t){let e="";return e=URL.createObjectURL(t),e}async function Ue(t){const e=[];let n=[],s=[];T.value.forEach(a=>{const x=r({storage:pe,path:a.name,data:a}).then(w=>{n.push(w),console.log(`File uploaded successfully. Download URL: ${w}`)}).catch(()=>{console.error("File upload failed.")});e.push(x)}),z.value.forEach(a=>{const x=r({storage:pe,path:a.name,data:a}).then(w=>{s.push(w),console.log(`File uploaded successfully. Download URL: ${w}`)}).catch(()=>{console.error("File upload failed.")});e.push(x)}),Promise.all(e).then(()=>{console.log("files uploaded success."),i.value.profile=[...i.value.profile,...n],i.value.list=s,Ve(t)}).catch(a=>{console.error("Error:",a)})}return We(()=>{M.value=D.query.id,_.value=D.query.type,$.value=_.value=="pests"?"蟲害":"病害",A.value=D.query.isEdit,Le()}),(t,e)=>{var n;return(n=V(f))!=null&&n.isAdmin?(c(),u("div",Et,[ve(V(lt),{"validation-schema":V(ye),onSubmit:e[9]||(e[9]=()=>{})},{default:Xe(()=>[o("div",Mt,[Tt,o("div",$t,[At,Y(o("select",{id:"type",name:"type","onUpdate:modelValue":e[0]||(e[0]=s=>$.value=s),class:"-ml-2 w-2/5 rounded-full border-0 py-2 text-gray-900 main-filter-bg shadow-sm ring-1 ring-inset ring-gray-500 sm:text-sm",onChange:e[1]||(e[1]=s=>Se())},[(c(!0),u(L,null,E(ke.value,s=>(c(),u("option",Pt,N(s.name),1))),256))],544),[[J,$.value]])]),o("div",Nt,[Dt,Y(o("input",{type:"text",name:"chinese",id:"chinese","onUpdate:modelValue":e[2]||(e[2]=s=>i.value.chinese=s),class:"block w-full rounded-full border-0 px-4 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-500 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"病蟲害名"},null,512),[[et,i.value.chinese]])]),o("div",Ft,[zt,o("div",Ot,[(c(!0),u(L,null,E(y.value,s=>(c(),u("div",jt,[o("input",{id:s.name,"aria-describedby":"comments-description",name:s.name,checked:i.value.organs.includes(s.name),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600 custom-checkbox",onClick:a=>Oe(s)},null,8,Bt),o("label",{for:s.name,class:"ml-1 text-xs leading-6 text-gray-900"},N(s.name),9,Rt)]))),256))])]),o("div",Vt,[Yt,o("div",Ut,[(c(!0),u(L,null,E(p.value,s=>(c(),u("div",Gt,[o("input",{id:s.name,"aria-describedby":"comments-description",name:s.name,checked:i.value.symptoms.includes(s.name),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600 custom-checkbox",onClick:a=>je(s)},null,8,Ht),o("label",{for:s.name,class:"ml-1 text-xs leading-6 text-gray-900"},N(s.name),9,Qt)]))),256))])]),_.value=="pests"?(c(),u("div",qt,[Kt,o("div",Zt,[(c(!0),u(L,null,E(v.value,s=>(c(),u("div",Jt,[o("input",{id:s.name,"aria-describedby":"comments-description",name:s.name,checked:i.value.colors.includes(s.name),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600 custom-checkbox",onClick:a=>ze(s)},null,8,Wt),o("label",{for:s.name,class:"ml-1 text-xs leading-6 text-gray-900"},N(s.name),9,Xt)]))),256))])])):U("",!0),_.value=="pests"?(c(),u("div",es,[ts,Y(o("select",{id:"pestSize",name:"pestSize","onUpdate:modelValue":e[3]||(e[3]=s=>i.value.size=s),class:"w-full rounded-full border-0 px-4 py-2 text-gray-900 main-filter-bg shadow-sm ring-1 ring-inset ring-gray-500 sm:text-sm sm:leading-6"},[(c(!0),u(L,null,E(h.value,s=>(c(),u("option",ss,N(s.name),1))),256))],512),[[J,i.value.size]])])):U("",!0),o("div",os,[ls,Y(o("select",{id:" environment",name:" environment","onUpdate:modelValue":e[4]||(e[4]=s=>i.value.environment=s),class:"w-full rounded-full border-0 px-4 py-2 text-gray-900 main-filter-bg shadow-sm ring-1 ring-inset ring-gray-500 sm:text-sm sm:leading-6"},[(c(!0),u(L,null,E(P.value,s=>(c(),u("option",ns,N(s.name),1))),256))],512),[[J,i.value.environment]])]),o("div",is,[as,o("div",rs,[(c(!0),u(L,null,E([...i.value.profile,...V(T)],s=>(c(),u("div",cs,[o("div",us,[typeof s=="string"?(c(),u("img",{key:0,src:s,alt:"",class:"object-cover object-center rounded-md h-36 w-48"},null,8,ds)):(c(),u("img",{key:1,src:ae(s),alt:"",class:"object-cover object-center rounded-md h-36 w-48"},null,8,ms)),o("div",gs,[o("button",fs,[o("a",{class:"float-right cursor-pointer",onClick:a=>Ye(s)},hs,8,vs)])])])]))),256)),o("div",_s,[o("div",bs,[o("div",xs,[o("label",ys,[ks,ws,o("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",onChange:e[5]||(e[5]=s=>Ce(s)),accept:"image/*"},null,32)])])])])])]),o("div",Cs,[Is,o("div",Ss,[k.value!=null||i.value.list!=null&&i.value.list.length!=0?(c(),u("div",Ls,[o("div",Es,[k.value!=null?(c(),u("img",{key:0,src:ae(k.value),alt:"",class:"object-cover object-center rounded-md h-36 w-48"},null,8,Ms)):(c(),u("img",{key:1,src:i.value.list[0],alt:"",class:"object-cover object-center rounded-md h-36 w-48"},null,8,Ts))]),o("div",$s,[o("button",As,[k.value!=null?(c(),u("a",{key:0,class:"float-right cursor-pointer",onClick:e[6]||(e[6]=s=>ie(k.value))},Ns)):(c(),u("a",{key:1,class:"float-right cursor-pointer",onClick:e[7]||(e[7]=s=>ie(i.value.list[0]))},Fs))])])])):U("",!0),k.value==null&&(i.value.list==null||i.value.list.length==0)?(c(),u("div",zs,[o("div",Os,[o("div",js,[o("label",Bs,[Rs,Vs,o("input",{id:"list-upload",name:"list-upload",type:"file",class:"sr-only",onChange:e[8]||(e[8]=s=>Ie(s)),accept:"image/*"},null,32)])])])])):U("",!0)])]),o("div",Ys,[Us,ve(Lt,{checkMaterial:i.value.preventions,controlMaterial:te.value,preventions:H.value,onSave:we,class:"mt-3 w-full"},null,8,["checkMaterial","controlMaterial","preventions"])])])]),_:1},8,["validation-schema"])])):(c(),u("div",Gs,Qs))}}});export{eo as default};
